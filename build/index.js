!function(e){var t={};function n(r){if(t[r])return t[r].exports;var c=t[r]={i:r,l:!1,exports:{}};return e[r].call(c.exports,c,c.exports,n),c.l=!0,c.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)n.d(r,c,function(t){return e[t]}.bind(null,c));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(e,t){e.exports=window.wp.element},function(e,t){e.exports=window.wp.i18n},function(e,t){e.exports=window.wp.blocks},function(e,t){e.exports=window.lodash},function(e,t){e.exports=window.wp.data},function(e,t){e.exports=window.wp.hooks},function(e,t){e.exports=window.wp.components},function(e,t){e.exports=window.wp.compose},function(e,t){e.exports=window.wp.blockEditor},function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(3),s=n(1),o=n(2),l=n(6),u=n(7),i=n(8),a=n(5),b=({attributes:e,setAttributes:t,clientId:n})=>{Object(r.useEffect)(()=>{if(e.customCSS){const t=new RegExp("."+u.current,"g"),n=e.customCSS.replace(t,"selector");l.current=n}else l.current="selector {\n}\n";o.current=wp.CodeMirror(document.getElementById("themeisle-css-editor"),{value:l.current,autoCloseBrackets:!0,continueComments:!0,lineNumbers:!0,lineWrapping:!0,matchBrackets:!0,lint:!0,gutters:["CodeMirror-lint-markers"],styleActiveLine:!0,styleActiveSelected:!0,extraKeys:{"Ctrl-Space":"autocomplete","Alt-F":"findPersistent","Cmd-F":"findPersistent"}}),o.current.on("change",()=>{const e=new RegExp("selector","g"),n=o.current.getValue().replace(e,"."+u.current);if(l.current=n,"selector {\n}\n".replace(/\s+/g,"")===l.current.replace(/\s+/g,""))return t({customCSS:null});t({customCSS:l.current})})},[]),Object(r.useEffect)(()=>{let e=c();t({hasCustomCSS:!0,className:e})},[e]);const c=()=>{let t;const r=n.substr(0,8);return null!==l.current&&"selector {\n}\n".replace(/\s+/g,"")===l.current.replace(/\s+/g,"")?e.className:(e.className?(t=e.className,t.includes("ticss-")||(t=t.split(" "),t.push("ticss-"+r),t=t.join(" ")),u.current=t.split(" "),u.current=u.current.find(e=>e.includes("ticss"))):(t="ticss-"+r,u.current=t),t)},o=Object(r.useRef)(null),l=Object(r.useRef)(null),u=Object(r.useRef)(null);return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("p",null,Object(s.__)("Add your custom CSS.","otter-blocks")),Object(r.createElement)("div",{id:"themeisle-css-editor",className:"themeisle-css-editor"}),Object(r.createElement)("p",null,Object(s.__)("Use","otter-blocks")," ",Object(r.createElement)("code",null,"selector")," ",Object(s.__)("to target block wrapper.","otter-blocks")),Object(r.createElement)("br",null),Object(r.createElement)("p",null,Object(s.__)("Example:","otter-blocks")),Object(r.createElement)("pre",{className:"themeisle-css-editor-help"},"selector {\n    background: #000;\n}\n\nselector img {\n    border-radius: 100%;\n}"),Object(r.createElement)("p",null,Object(s.__)("You can also use other CSS syntax here, such as media queries.","otter-blocks")))},p=n(4);Object(p.subscribe)(()=>{const{getBlocks:e}=Object(p.select)("core/block-editor");(e=>{let t=document.getElementById("themeisle-css-editor-styles");null===t&&(t=document.createElement("style"),t.setAttribute("type","text/css"),t.setAttribute("id","themeisle-css-editor-styles"),document.getElementsByTagName("head")[0].appendChild(t)),t.textContent===e||(t.textContent=e)})(((e,t)=>{if(!e)return"";const n=e=>{const r=[];if("core/block"===e.name&&null!==t){const c=t.find(t=>e.attributes.ref===t.id);if(c&&c.content){const e=c.content.hasOwnProperty("raw")?c.content.raw:c.content;r.push(Object(o.parse)(e).map(e=>[e,n(e)]))}}return void 0!==e.innerBlocks&&0<e.innerBlocks.length&&r.push(e.innerBlocks.map(e=>[e,n(e)])),r},r=e.map(e=>[e,n(e)]);return Object(c.flattenDeep)(r).map(e=>e.attributes&&e.attributes.hasCustomCSS&&e.attributes.customCSS&&null!==e.attributes.customCSS?e.attributes.customCSS+"\n":"").reduce((e,t)=>e+t,"")})(e(),Object(p.select)("core").getEntityRecords("postType","wp_block")))});const m=Object(u.createHigherOrderComponent)(e=>t=>Object(o.hasBlockSupport)(t.name,"customClassName",!0)&&t.isSelected?Object(r.createElement)(r.Fragment,null,Object(r.createElement)(e,t),Object(r.createElement)(i.InspectorControls,null,Object(r.createElement)(l.PanelBody,{title:Object(s.__)("Custom CSS","otter-blocks"),initialOpen:!1},Object(r.createElement)(b,{clientId:t.clientId,setAttributes:t.setAttributes,attributes:t.attributes})))):Object(r.createElement)(e,t),"withInspectorControl");Object(a.addFilter)("blocks.registerBlockType","themeisle-custom-css/attribute",e=>(Object(o.hasBlockSupport)(e,"customClassName",!0)&&(e.attributes=Object(c.assign)(e.attributes,{hasCustomCSS:{type:"boolean",default:!1},customCSS:{type:"string",default:null}})),e)),Object(a.addFilter)("editor.BlockEdit","themeisle-custom-css/with-inspector-controls",m)}]);